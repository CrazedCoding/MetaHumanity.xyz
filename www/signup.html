<div class="row connected_content out-of-sight" id="signup">
    <div class="col-0 col-sm-0 col-md-1 col-lg-2">
    </div>
    <form class="col-12 col-sm-12 col-md-10 col-lg-8">
        <br>
        <h1
            style="text-align:center; color:#fff; font-size: 14px !important; width:auto; background-color: rgba(0,0,0,.75); border-radius: 12px; border: 1px solid #fff !important;">
            <br>
            By signing up you agree to our privacy policy:
            <br>
            <br>
            <div style="text-align: center;">
                <button type="button" class="btn btn-outline-primary mx-auto"
                    onclick="state.show_page(pages.POLICY);">View
                    Privacy Policy</button>
            </div>
            <br>
            You can sign up by giving us the following information, and using the password reset link you
            receive in
            your inbox.
            <br>
            <br>
            <div style="display: inline-block; text-align:center; color:#fff; font-size: 14px !important; width:50%;">
                Your Name
            </div>
            <input type="text" style="display: inline-block; font-size: 14px !important; width:40%;"
                class="form-control" id="signup_name" placeholder="User Name">
            <br>
            <br>
            <div style="display: inline-block; text-align:center; color:#fff; font-size: 14px !important; width:50%;">
                Your Email</div>
            <input type="text" style="display: inline-block; font-size: 14px !important; width:40%;"
                class="form-control" id="signup_email" placeholder="Email">
            <br>
            <br>
            <div style="display: inline-block; width:50%">
                <img style="display: inline-block; text-align:center; color:#fff; font-size: 14px !important; height:50%;"
                    id="signup_captcha">
            </div>
            <input type="text" style="display: inline-block; font-size: 14px !important; width:40%;"
                class="form-control" id="signup_captcha_input" placeholder="Captcha">
            <br>
            <br>
            <button type="button" class="btn btn-outline-success mx-auto" onclick="state.register()">Sign
                Up</button>
            <br>
            <br>
        </h1>
        <br>
        <h1
            style="text-align:center; color:#fff; font-size: 14px !important; width:auto; background-color: rgba(0,0,0,.75); border-radius: 12px; border: 1px solid #fff !important;">
            <br>
            Already a member? Simply click "Login"!
            <br>
            <br>
            <button type="button" class="btn btn-outline-success mx-auto"
                onclick="state.show_page(pages.LOGIN);">Login</button>
            <br>
            <br>
        </h1>
        <br>
        <h1
            style="text-align:center; color:#fff; font-size: 14px !important; width:auto; background-color: rgba(0,0,0,.75); border-radius: 12px; border: 1px solid #fff !important;">
            <br>
            Forgot your password? Click below!
            <br>
            <br>
            <button type="button" class="btn btn-outline-warning mx-auto"
                onclick="state.show_page(pages.REQUEST);">Reset
                Password</button>
            <br>
            <br>
        </h1>
    </form>
    <div class="col-0 col-sm-0 col-md-1 col-lg-2">
    </div>
</div>
<script>
    
    GlobalState.prototype.register = function () {
        var name = $("#signup_name").val();
        var valid_name = name.length >= 3;

        if (!valid_name) {
            this.show_page(pages.CLIENT_ERROR, "Error!", "Please enter a valid user name (use 3 or more characters).", true);
            return;
        }

        var email = $("#signup_email").val();
        var valid_email = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(email);

        if (!valid_email) {
            this.show_page(pages.CLIENT_ERROR, "Error!", "Please enter a valid email.", true);
            return;
        }

        var captcha = $("#signup_captcha_input").val();
        this.show_page(pages.PROCESSING, "Registering...", "Please be patient.", false);

        this.send(Message.encode({
            type: Message.Type.REGISTER,
            auth: {
                user: name,
                email: email,
                password: ""
            },
            captcha: {
                key: captcha
            }
        }).finish())
    }
</script>